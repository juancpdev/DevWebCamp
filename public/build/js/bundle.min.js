function confirmDelete(e,o){e.preventDefault(),Swal.fire({title:"Confirmación",text:"¿Estás seguro de que deseas eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&document.getElementById(o).submit()})}function seleccionarArchivo(){document.getElementById("imagenPonente").click()}function mostrarNombreArchivo(){var e=document.getElementById("imagenPonente"),o=document.getElementById("mensajeArchivo"),t=e.files.length>0?e.files[0].name:"No se ha seleccionado ningún archivo.";o.textContent=t}function autocompletadoFormulario(){document.querySelectorAll(".formulario__input").forEach(e=>{e.addEventListener("input",(function(){const e=this.nextElementSibling;this.value?e.classList.add("formulario__label--active"):e.classList.remove("formulario__label--active")}))})}function modalAuth(){const e=document.querySelectorAll(".auth"),o=document.querySelector("#login"),t=document.querySelector("#registro"),r=document.querySelector("#olvide"),n=document.querySelectorAll(".login"),a=document.querySelectorAll(".registro"),l=document.querySelectorAll(".olvide"),i=document.querySelectorAll(".modal__close");abrirModal(n,o,t,r),abrirModal(a,t,o,r),abrirModal(l,r,o,t),i.forEach(e=>{e.addEventListener("click",(function(){cerrarModal();const e=this.closest(".modal");setTimeout(()=>{e.style.display="none",document.body.style.overflow="auto",e.querySelector("form").reset()},200)}))}),window.addEventListener("click",(function(o){e.forEach(e=>{o.target===e&&(cerrarModal(),setTimeout(()=>{document.querySelectorAll(".modal").forEach(e=>{e.style.display="none",document.body.style.overflow="auto",e.querySelector("form").reset()})},200))})}))}function abrirModal(e,o,t,r){e.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault(),cambiarModal(),reiniciarFormu(t,r),modalAnimacion(o,t,r)}))})}function modalAnimacion(e,o,t){e.style.display="block",o.style.display="none",t.style.display="none",document.body.style.overflow="hidden",setTimeout(()=>{e.children[0].children[0].classList.toggle("animar")},50)}function cerrarModal(){limpiarAlertas("Registro"),limpiarAlertas("Login"),limpiarAlertas("Olvide"),limpiarLabels("registro"),limpiarLabels("login"),limpiarLabels("olvide"),setTimeout(()=>{document.querySelectorAll(".auth__modal").forEach(e=>{e.classList.remove("animar")})},0)}function cambiarModal(){limpiarAlertas("Registro"),limpiarAlertas("Login"),limpiarAlertas("Olvide"),limpiarLabels("registro"),limpiarLabels("login"),limpiarLabels("olvide");const e=document.querySelectorAll(".acciones__enlace"),o=document.querySelectorAll(".auth__modal");e.forEach(e=>{e.addEventListener("click",(function(e){o.forEach(e=>{e.classList.remove("animar")})}))})}function reiniciarFormu(e,o){e.querySelector("form").reset(),o.querySelector("form").reset()}function limpiarLabels(e){document.querySelectorAll("#"+e+" .formulario__label").forEach(e=>{e.classList.remove("formulario__label--active")})}function limpiarAlertas(e){["Nombre","Apellido","Email","Email2","Password","Password2"].forEach(o=>{const t=document.getElementById("alerta"+o+e),r=document.getElementById(o.toLowerCase()+e),n=document.getElementById(o.toLowerCase()+e+"Icono");t&&(t.textContent="",t.classList.remove("error")),r&&r.classList.remove("error-input"),n&&n.classList.remove("error-icono")})}function mostrarAlertas(e,o){["Nombre","Apellido","Email","Email2","Password","Password2","Ciudad","Pais","Imagen","Tags","Descripcion","Categoria","Disponibles"].forEach(e=>{const t=document.getElementById("alerta"+e+o),r=document.getElementById(e.toLowerCase()+o),n=document.getElementById(e.toLowerCase()+o+"Icono");t&&(t.textContent="",console.log(t),t.classList.remove("error")),r&&r.classList.remove("error-input"),n&&n.classList.remove("error-icono")}),e&&e.length>0&&e.forEach(e=>{let t="";e.includes("Nombre")?t="Nombre":e.includes("Apellido")?t="Apellido":e.includes("Email")?t="Email":e.includes("mayor")?t="Password":e.includes("coinciden")?t="Password2":e.includes("registrado")?t="Email2":e.includes("Incorrecto")?t="Password2":e.includes("confirmado")?t="Email2":e.includes("Ciudad")?t="Ciudad":e.includes("País")?t="Pais":e.includes("Imagen")?t="Imagen":e.includes("incluir")?t="Tags":e.includes("descripción")?t="Descripcion":e.includes("Categoría")?t="Categoria":e.includes("Día")?t="Dia":e.includes("hora")?t="Hora":e.includes("disponibles")?t="Disponibles":e.includes("encargada")&&(t="Ponente");const r=document.getElementById("alerta"+t+o),n=document.getElementById(t.toLowerCase()+o),a=document.getElementById(t.toLowerCase()+o+"Icono");r&&(r.textContent=e,setTimeout(()=>{r.classList.add("error")},0)),n&&n.classList.add("error-input"),a&&a.classList.add("error-icono")})}document.addEventListener("DOMContentLoaded",(function(){autocompletadoFormulario(),modalAuth()})),function(){async function e(e,o,t){document.querySelectorAll(".spinner-contenedor").forEach(e=>{e.style.display="flex"});const r=new FormData(e),n=await fetch(o,{method:"POST",body:r});try{const o=await n.json();if(console.log(o),o.debug&&console.log(o.debug),"error"===o.tipo)e.elements.password&&(e.elements.password.value=""),e.elements.password2&&(e.elements.password2.value=""),mostrarAlertas(o.alertas.error,t);else if("exito"===o.tipo){e.reset(),cerrarModal();document.querySelectorAll(".modal").forEach(e=>{e.style.display="none"}),"Registro"===t?Swal.fire({icon:"success",title:"Usuario Registrado",text:"Verifica tu mail para confirmar la cuenta",confirmButtonText:"OK",willClose:()=>{document.body.style.overflow="auto"}}):"Login"===t?"1"===o.datos.admin?window.location.href="/admin/dashboard":window.location.href="/finalizar-registro":"Olvide"===t&&Swal.fire({icon:"success",title:"Verifica tu email",text:"Verifica tu mail para cambiar el password",confirmButtonText:"OK",willClose:()=>{document.body.style.overflow="auto"}})}}catch(e){console.error("Error al analizar la respuesta JSON del servidor")}finally{document.querySelectorAll(".spinner-contenedor").forEach(e=>{e.style.display="none"})}}const o=document.querySelector("#registro .formulario"),t=document.querySelector("#login .formulario"),r=document.querySelector("#olvide .formulario");o&&o.addEventListener("submit",(function(t){t.preventDefault(),e(o,"/api/usuarios/registro","Registro")})),t&&t.addEventListener("submit",(function(o){o.preventDefault(),e(t,"/api/usuarios/login","Login")})),r&&r.addEventListener("submit",(function(o){o.preventDefault(),e(r,"/api/usuarios/olvidePassword","Olvide")})),window.resetearFormulario=function(){const e=document.querySelector(".auth__modal .formulario");resetearFormulario(e)}}(),function(){async function e(e,o,t){document.querySelectorAll(".spinner-contenedor").forEach(e=>{e.style.display="flex"});const r=new FormData(e),n=await fetch(o,{method:"POST",body:r});try{const o=await n.json();if(o.debug&&console.log(o.debug),"error"===o.tipo){console.log(o.alertas.error),mostrarAlertas(o.alertas.error,"Evento");const e=document.querySelector(".formulario__legend");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}else"exito"===o.tipo&&(e.reset(),"Crear"===t?Swal.fire({icon:"success",title:"Evento Creado",text:"Se agregó un nuevo evento",confirmButtonText:"OK",willClose:()=>{document.body.style.overflow="auto"}}).then(()=>{window.location.href="/admin/eventos"}):"Editar"===t&&Swal.fire({icon:"success",title:"Evento Actualizado",text:"Se Actualizo el evento correctamente",confirmButtonText:"OK",willClose:()=>{document.body.style.overflow="auto"}}).then(()=>{window.location.href="/admin/eventos"}))}catch(e){console.error("Error al analizar la respuesta JSON del servidor",e)}finally{document.querySelectorAll(".spinner-contenedor").forEach(e=>{e.style.display="none"})}}const o=document.querySelector("#eventosCrear .formulario");o&&o.addEventListener("submit",(function(t){t.preventDefault(),e(o,"/admin/eventos/crear","Crear")}))}(),function(){const e={categoria_id:"",dia:""},o=document.querySelectorAll("[name=dia]"),t=document.querySelector("[name=categoria_id]"),r=document.querySelector("[name=dia_id]"),n=document.querySelector("[name=hora_id]");function a(o){e[o.target.name]=o.target.value,n.value="",r.value="";const t=document.querySelector(".horas__hora--seleccionada");t&&t.classList.remove("horas__hora--seleccionada"),Object.values(e).includes("")||async function(){console.log(e);const{categoria_id:o,dia:t}=e,r=`/api/eventos-horario?categoria_id=${o}&dia_id=${t}`,n=await fetch(r);!function(e){const o=document.querySelectorAll(".horas li");o.forEach(e=>e.classList.add("horas__hora--deshabilitada"));const t=e.map(e=>e.hora_id),r=Array.from(o);r.filter(e=>!t.includes(e.dataset.horaId)).forEach(e=>e.classList.remove("horas__hora--deshabilitada"));document.querySelectorAll(".horas li:not(.horas__hora--deshabilitada)").forEach(e=>e.addEventListener("click",l));document.querySelectorAll(".horas__hora--deshabilitada").forEach(e=>e.removeEventListener("click",l))}(await n.json())}()}function l(o){const t=document.querySelector(".horas__hora--seleccionada");t&&t.classList.remove("horas__hora--seleccionada"),o.target.classList.add("horas__hora--seleccionada"),n.value=o.target.dataset.horaId,r.value=e.dia}o.forEach(e=>e.addEventListener("change",a)),t.addEventListener("change",a)}(),function(){async function e(e,o,t){document.querySelectorAll(".spinner-contenedor").forEach(e=>{e.style.display="flex"});const r=new FormData(e),n=await fetch(o,{method:"POST",body:r});console.log(n);try{const o=await n.json();if(console.log(o),o.debug&&console.log(o.debug),"error"===o.tipo){mostrarAlertas(o.alertas.error,"Ponente");const e=document.querySelector(".formulario__legend");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}else"exito"===o.tipo&&(e.reset(),"Crear"===t?Swal.fire({icon:"success",title:"Ponente Creado",text:"Se agregó un nuevo ponente",confirmButtonText:"OK",willClose:()=>{document.body.style.overflow="auto"}}).then(()=>{window.location.href="/admin/ponentes"}):"Editar"===t&&Swal.fire({icon:"success",title:"Ponente Actualizado",text:"Se Actualizo el ponente correctamente",confirmButtonText:"OK",willClose:()=>{document.body.style.overflow="auto"}}).then(()=>{window.location.href="/admin/ponentes"}))}catch(e){console.error("Error al analizar la respuesta JSON del servidor",e)}finally{document.querySelectorAll(".spinner-contenedor").forEach(e=>{e.style.display="none"})}}const o=document.querySelector("#ponentesCrear .formulario"),t=document.querySelector("#ponentesEditar .formulario");o&&o.addEventListener("submit",(function(t){t.preventDefault(),e(o,"/admin/ponentes/crear","Crear")})),t&&t.addEventListener("submit",(function(o){o.preventDefault();const r=window.location.search,n=new URLSearchParams(r).get("id");if(n){e(t,"/admin/ponentes/editar?id="+n,"Editar")}else console.error("ID del ponente no encontrado en la URL")}))}(),function(){const e=document.querySelector(".tags_input");if(e){const n=document.querySelector("#tags"),a=document.querySelector('[name="tags"]');let l=[];function o(){n.textContent="",l.forEach(e=>{const o=document.createElement("LI");o.classList.add("formulario__tag"),o.textContent=e,o.ondblclick=t,n.appendChild(o)}),r()}function t(e){e.target.remove(),l=l.filter(o=>o!==e.target.textContent),r()}function r(){a.value=l.toString()}""!==a.value&&(l=a.value.split(","),o()),e.addEventListener("keypress",(function(t){if(44===t.keyCode){if(""===t.target.value.trim()||t.target.value<1||l.includes(t.target.value))return t.preventDefault(),void(t.target.value="");t.preventDefault(),l=[...l,t.target.value.trim()],e.value="",o()}}))}}();
//# sourceMappingURL=bundle.js.map
